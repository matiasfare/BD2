CREATE TABLE TARIFARIO
(ID NUMBER(15) NOT NULL,
 TIPO_CUENTA NUMBER(2) DEFAULT 1 NOT NULL,
 PLAZO_MINIMO NUMBER(4) DEFAULT 0 NOT NULL,
 MONEDA NUMBER(1) DEFAULT 1 NOT NULL,
 MONTO_MINIMO NUMBER(15) DEFAULT 0 NOT NULL,
 TASA_ANUAL NUMBER(5,2) NOT NULL,
 PROMEDIO NUMBER(15) DEFAULT 0 NOT NULL,
 CONSTRAINT PK_TARIFARIO PRIMARY KEY (ID),
 CONSTRAINT CK_TPC_CTA CHECK (TIPO_CUENTA IN (1,2,3)))
/
INSERTING into TARIFARIO
SET DEFINE OFF;
Insert into TARIFARIO (ID,TIPO_CUENTA,PLAZO_MINIMO,MONEDA,MONTO_MINIMO,TASA_ANUAL,PROMEDIO) values ('1','1','0','1','1000000','0.06','1000000');
Insert into TARIFARIO (ID,TIPO_CUENTA,PLAZO_MINIMO,MONEDA,MONTO_MINIMO,TASA_ANUAL,PROMEDIO) values ('2','1','0','2','100','0.01','100');
Insert into TARIFARIO (ID,TIPO_CUENTA,PLAZO_MINIMO,MONEDA,MONTO_MINIMO,TASA_ANUAL,PROMEDIO) values ('3','2','90','1','1000000','1.5','1000000');
Insert into TARIFARIO (ID,TIPO_CUENTA,PLAZO_MINIMO,MONEDA,MONTO_MINIMO,TASA_ANUAL,PROMEDIO) values ('4','2','180','1','1000000','2','1000000');
Insert into TARIFARIO (ID,TIPO_CUENTA,PLAZO_MINIMO,MONEDA,MONTO_MINIMO,TASA_ANUAL,PROMEDIO) values ('5','2','360','1','1000000','6.25','1000000');
Insert into TARIFARIO (ID,TIPO_CUENTA,PLAZO_MINIMO,MONEDA,MONTO_MINIMO,TASA_ANUAL,PROMEDIO) values ('6','2','540','1','1000000','6.5','1000000');
Insert into TARIFARIO (ID,TIPO_CUENTA,PLAZO_MINIMO,MONEDA,MONTO_MINIMO,TASA_ANUAL,PROMEDIO) values ('7','2','720','1','1000000','7','1000000');


ALTER TABLE AHO_CUENTA_AHORRO
ADD (
SALDO_REAL  NUMBER(12) DEFAULT 0 NOT NULL,
ID_TARIFARIO NUMBER(15) DEFAULT 1 NOT NULL,
 CONSTRAINT FK_TARIFA FOREIGN KEY (ID_TARIFARIO) REFERENCES TARIFARIO(ID))
/
COMMENT ON COLUMN AHO_CUENTA_AHORRO.SALDO_REAL IS 'MOVIMIENTOS DE CREDITO - DEBITOS ANTES DE APLICAR SALDO BLOQUEADO';
COMMENT ON COLUMN AHO_CUENTA_AHORRO.SALDO_BLOQUEADO IS 'PARTE DEL SALDO REAL QUE SE BLOQUEA COMO GARANTIA DE PRESTAMOS';
COMMENT ON COLUMN AHO_CUENTA_AHORRO.SALDO_DISPONIBLE IS 'PARTE DEL SALDO REAL - SALDO BLOQUEADO';
COMMENT ON COLUMN AHO_CUENTA_AHORRO.ID_TARIFARIO IS 'IDENTIFICA EL TIPO DE CUENTA E INTERES A APLICAR';
 
